#include <gtest/gtest.h>

#include "superpositeur/Circuit.hpp"
#include "superpositeur/DefaultOperations.hpp"

namespace superpositeur {
namespace {
Circuit randomCircuit() {
    using namespace std::complex_literals;

    Circuit c;
    c.addInstruction(CircuitInstruction({ Matrix{ { 0.20918455374160458 + 0.19346013742172435i, 0.3455042852209553 + -0.11314871981012609i }, { 0.13291725343288846 + 0.27585411233121715i, 0.036719666775118294 + 0.2227155194715925i } }, Matrix{ { -0.3827896845205554 + -0.17760374267665083i, -0.0936494724678727 + -0.11494389410017183i }, { 0.027285893013770917 + 0.24360773271288733i, 0.3496567894894271 + 0.3570646312142578i } }, Matrix{ { -0.1076331363383098 + 0.007291785417123094i, 0.46585798549239366 + -0.23379822657957086i }, { 0.6358942804617972 + 0.07648427801877014i, -0.15328092108420432 + 0.12841493715028807i } }, Matrix{ { 0.13679237030519953 + 0.24461902666616148i, 0.06158437051585853 + -0.3842006608319272i }, { -0.2876104744109642 + -0.06141972092861272i, 0.19858762165388072 + -0.20646001930851465i } } }, { QubitIndex{ 0 } }));

    c.addInstruction(CircuitInstruction({ Matrix{ { 0.10131195506716838 + 0.01871979072423925i, -0.23288481406898126 + -0.19850350618977142i }, { -0.20057785997540437 + 0.16907648821952112i, -0.1672140289717298 + -0.41905366795753174i } }, Matrix{ { 0.18070459691779298 + -0.344728938895174i, -0.06616360089578656 + 0.0029882453764041514i }, { -0.3641809232157571 + 0.012282303240887669i, 0.5216460708117168 + -0.10406284224934795i } }, Matrix{ { -0.34095539596731306 + 0.09861394627772i, -0.44281496499939277 + 0.13581760288030648i }, { -0.41450825181679196 + -0.37873960055571904i, 0.053541309335447956 + -0.028275199662564365i } }, Matrix{ { -0.13265716298723854 + -0.09876002878879615i, -0.13814046629343005 + 0.20560923668127856i }, { -0.4069115938507757 + -0.046170859502249806i, -0.3121300378156602 + 0.19617207478245702i } } }, { QubitIndex{ 2 } }));

    c.addInstruction(CircuitInstruction({ Matrix{ { 0.14810883759199278 + -0.09993882395800797i, 0.2903663758591302 + 0.052749962746534346i }, { -0.3196053193505094 + 0.06386419632749177i, 0.2785853290483712 + 0.2836748211759097i } }, Matrix{ { -0.02023184940875463 + 0.3896434466891774i, 0.08347847573685879 + 0.049899303015660486i }, { 0.08093971426324045 + 0.4342981392483347i, 0.35771270472695466 + 0.2239302147382471i } }, Matrix{ { 0.309413439591628 + -0.41195931848365286i, -0.011634908459662141 + 0.1864339206558182i }, { -0.18734319080004458 + 0.05332062972385819i, 0.16689024856129225 + -0.5174328078098825i } }, Matrix{ { 0.27058214086410054 + 0.2583241875365866i, 0.07627422587958621 + 0.3524978428626804i }, { -0.1726205208010975 + -0.20327496447922985i, 0.27566548537826613 + 0.1752595583923155i } } }, { QubitIndex{ 2 } }));

    c.addInstruction(CircuitInstruction({ Matrix{ { -0.008117863672479686 + 0.1474255297102467i, 0.07587782224438402 + -0.010025263918398215i, 0.038612158892049976 + -0.12199904531423919i, 0.10627924789434999 + 0.009750290495287556i }, { -0.03478631432790667 + 0.040923371902149154i, 0.16805441494999457 + -0.003382448637958758i, 0.028029908259941172 + -0.09118280730651965i, -0.05525349033842221 + 0.009347215827256772i }, { 0.014208683561972272 + -0.03433496031719046i, -0.13645941702661643 + -0.033911454913811895i, 0.06010919638019282 + -0.1569677684957906i, -0.0419751334846095 + -0.16300475980836196i }, { 0.18255803465958315 + 0.04446121814118727i, -0.10710651387251349 + 0.018263301720940733i, 0.10454240666735497 + -0.12988628320390222i, -0.05609071810720571 + 0.12291971549647861i } }, Matrix{ { -0.07412932069225998 + -0.10912161826233013i, -0.10655273974817542 + -0.12752027875267846i, 0.16390751622978464 + 0.012091666848126369i, 0.17777942033309896 + -0.043109690725881694i }, { 0.021147074604545145 + -0.01213019424940831i, -0.08678064264927922 + 0.024249136928744138i, -0.10757730239629294 + 0.0018887092407496007i, -0.06893436622637797 + 0.002742697448417753i }, { 0.014707669091041181 + 0.017192079307291667i, 0.04198466029769287 + 0.10071793497208216i, 0.19054310606245012 + 0.028468545452612008i, -0.014510824116361676 + -0.06495795687596366i }, { 0.05739283917727328 + 0.10151917433574771i, 0.05091194044042713 + 0.04368556093403879i, 0.16319930404126584 + -0.08567349469379147i, -0.044594975911972874 + 0.04220001096878379i } }, Matrix{ { 0.07437688629680075 + -0.01942727974053881i, -0.02182027506671507 + 0.18525013046475677i, -0.14620920551096409 + 0.09143679467206692i, -0.058789071978265696 + 0.011998361058673109i }, { -0.08932576831395463 + -0.03143954525437515i, -0.0959725444607181 + 0.11505876690192629i, 0.08082215004436111 + 0.0688361386320449i, 0.02665088627487152 + 0.016983761876499356i }, { 0.020273920052562684 + 0.07474822773963931i, -0.022493500880071925 + -0.11246329878199023i, 0.04995707706079463 + -0.10465636204353844i, 0.055338659053158996 + 0.15021210779532418i }, { 0.10753760219173593 + 0.13827678336392868i, -0.028955461851390925 + 0.04263504034940077i, -0.047375992120706534 + 0.0030826200401369236i, 0.05448451265658259 + 0.041810346420489065i } }, Matrix{ { -0.09709504858580033 + -0.09158232400452186i, -0.07664908812529092 + 0.15000627630157373i, -0.014157379104078495 + -0.1227318390484899i, 0.11049772006207544 + 0.1264124082269727i }, { 0.18412043482580195 + -0.1398222201202191i, -0.07875076588869981 + 0.055685328254576644i, 0.11070123315309852 + -0.1015389705227253i, -0.08157443356395543 + -0.03791989843415994i }, { 0.09056071597486096 + -0.07200021268601417i, 0.08392739686169401 + 0.05328227699350226i, -0.016624325229435796 + -0.12122617068669538i, -0.09998321648553285 + -0.10727502189853473i }, { 0.05900094518856128 + 0.10723148180818097i, -0.14238187488758522 + 0.07397598976945739i, 0.05339363496461889 + -0.11484985986601325i, -0.08683708044493198 + 0.03696224680746096i } }, Matrix{ { 0.03386666508825361 + 0.17346407899171246i, -0.11034927091151929 + 0.12916667432958714i, -0.06374013227711936 + 0.045048135872198705i, 0.09918260113336481 + -0.0040198420932466734i }, { -0.008341436314454472 + -0.1343082340842185i, 0.09118475639594824 + -0.02920876515706036i, -0.07094209914377722 + -0.08091930213656084i, -0.06854124982883424 + -0.01702463660246091i }, { 0.07720882313664727 + -0.001072088029193844i, -0.02297751891407378 + 0.1907532193409159i, 0.1358667802191881 + 0.03728054770121112i, 0.0056058762272936 + -0.08785749593306608i }, { -0.0007368671164615734 + -0.0515296896644847i, -0.0495466477421486 + -0.15351998295443636i, 0.013693579103916003 + 0.09863503661955292i, 0.19848925108620658 + -0.08867833966661719i } }, Matrix{ { -0.0462668590540017 + 0.010701155962830555i, -0.032371462103728 + -0.0768796151824393i, -0.08577736191244907 + 0.008073221744538148i, 0.08394330195371157 + -0.14276017879332964i }, { -0.06474170221815068 + 0.14427994392504528i, 0.003935390794309017 + 0.03360430350779363i, -0.051572022541010336 + -0.005398569056349283i, 0.05621664753200583 + 0.04323372294016259i }, { 0.016137435855227648 + 0.06535241889570198i, 0.03825007830335292 + -0.04232243278394456i, -0.012552843383248722 + -0.14876514030056193i, 0.0029107593830986923 + 0.16675302125576075i }, { -0.13640660136577182 + -0.11090229616914081i, -0.0037414997070545413 + -0.04504711694993504i, 0.13715550556519654 + -0.09793162426009792i, -0.1103373235565631 + -0.03458448588044156i } }, Matrix{ { -0.024807213849435458 + 0.15333656155736422i, 0.10378810630916196 + 0.13561354151252317i, -0.06646138071610662 + 0.05280464931736473i, -0.08638439945877183 + 0.14685093368063942i }, { -0.007931970942393268 + -0.021609119683073694i, -0.1870054933543966 + 0.14218965619653365i, -0.009917738734535688 + 0.12607042346364467i, 0.16695470316993244 + -0.09121679593048883i }, { 0.15490585100950585 + -0.0022432345629894157i, -0.08772738694730683 + -0.21100601832313018i, -0.10876363883681962 + 0.0641067415106113i, -0.0770585266297006 + -0.005403432923392299i }, { 0.09066179103216482 + -0.26873018255321685i, 0.11283008963130145 + 0.035359718293486456i, -0.02045127937399446 + -0.05566296921469002i, -0.05891821505531006 + 0.007227372232829768i } }, Matrix{ { 0.012564000231676451 + -0.007359295322104071i, 0.013637971214463699 + -0.09283497524588502i, -0.03685239778558318 + 0.09155674860514328i, 0.08994619514597275 + 0.14729134117965703i }, { 0.015427167927644878 + -0.01019000039885751i, 0.026330221602255042 + 0.04285155406412176i, -0.09011168018810321 + 0.05086639162442323i, 0.20674231725357778 + -0.11946989482008992i }, { -0.054644572634824126 + 0.14870333619951787i, -0.07083183492368161 + -0.028287009462440546i, 0.03416113328627879 + 0.009310736896517737i, -0.03431030845508731 + 0.05020562508051056i }, { 0.08461133093786283 + 0.1253921203448835i, 0.02330309460699627 + 0.20480489540742522i, -0.12560056923452068 + 0.11103927516151123i, 0.05032138030457092 + 0.03128150194680359i } }, Matrix{ { -0.07788069019500246 + 0.0596209991664801i, 0.10759911456305823 + 0.004843132940751509i, -0.020814492198531372 + -0.16123787363425887i, 0.09807316308906142 + -0.10074764836752056i }, { -0.14993246188584183 + -0.11100417571322081i, -0.07736591432207691 + -0.03165027087351181i, -0.17610251199892296 + 0.04935638443866843i, -0.05069468296943255 + -0.08911295890980882i }, { -0.014248941483977257 + -0.11410250864269125i, 0.07676563535482041 + -0.08943822616892702i, -0.012096380350577305 + -0.0017870618575353684i, -0.07102958339828565 + -0.10696486630701839i }, { -0.018991427810855808 + -0.024271081173587665i, 0.13404358395658983 + 0.04346604007869177i, -0.04168629506465468 + 0.05996342901596604i, -0.008831533343189405 + -0.11864238636770953i } }, Matrix{ { -0.09054942738288918 + 0.07012846422803919i, 0.05302383902111101 + 0.04173907487768534i, -0.036727377002612194 + 0.05897592683992805i, -0.11937791160373236 + -0.06814151576414901i }, { -0.06707750665607358 + -0.020682164302836998i, 0.07218498678224974 + -0.10259129818551614i, -0.12557705673667927 + 0.002140156993970641i, -0.09003194158791507 + 0.01104575608753104i }, { -0.10666772272387683 + -0.023301298029878327i, 0.03950549072724219 + 0.015579501101187224i, -0.010584566171838396 + -0.07099077875586292i, 0.14064908641161866 + 0.02053810557350021i }, { -0.1265499335900918 + 0.01046814245060474i, -0.017646594421825854 + -0.01906676153520474i, 0.0026375090769988454 + -0.05273785420636523i, -0.003571762621624428 + 0.040084753706734526i } }, Matrix{ { -0.20131285878212854 + -0.023543128764986963i, 0.056477334537451164 + 0.09012298125741768i, 0.12064174375526118 + 0.030035454179403544i, 0.06642139428846158 + 0.0011144631644386294i }, { -0.02381902788722845 + 0.06459051031636126i, 0.14247643380625183 + -0.12970758598008056i, 0.10033216112826586 + -0.0509574742646917i, 0.02969152022392793 + 0.003470607907122769i }, { -0.1354200748484135 + 0.02832428263634422i, 0.08597778182866736 + -0.13533399534804266i, 0.11732589621480866 + 0.032652214199860086i, 0.22339916277097566 + -0.020278472662976485i }, { 0.027787959554948855 + -0.02144028839921425i, 0.1146728642864303 + -0.0033670219495237413i, 0.01497834519328128 + 0.02872219149299542i, 0.055450603607590514 + -0.025017945175495052i } }, Matrix{ { 0.03510990280020605 + -0.00869561100776837i, 0.06414240064474787 + -0.19140343599414814i, 0.12636228459675283 + 0.029147840980587363i, 0.04147915671751286 + 0.03576161151932933i }, { -0.014301876367332744 + 0.04977374807654276i, 0.02578335239657464 + -0.13419799867430532i, 0.02597855897044398 + -0.02564191282504648i, -0.17425218480935975 + 0.07664785221051175i }, { -0.033795067282972505 + -0.1587235330511261i, 0.06372747023505983 + 0.08177465900242001i, 0.13022950812817696 + -0.004332960916118933i, -0.11371227370941651 + 0.12648352175293354i }, { 0.04514038251560949 + 0.011983159897065183i, 0.04511304231276902 + -0.1277306531720453i, -0.027137780292324762 + 0.0655906102668828i, -0.15724201356576709 + -0.18527803018076483i } }, Matrix{ { 0.03691872418576104 + 0.09691723424103i, -0.04988721453161357 + 0.009199567419844703i, -0.18912661406230402 + -0.024840728628596476i, -0.1689836744496299 + -0.015329271043330294i }, { 0.0444123650416647 + -0.0011573653019885857i, 0.07326653362702916 + -0.1435957237291065i, 0.060595542567182796 + 0.21344483627769634i, 0.024261030793162133 + 0.04292705311856104i }, { -0.07382901257940402 + 0.017862321055683972i, 0.06805054107336955 + -0.056826106140302715i, 0.040558821075570024 + -0.05718041310281675i, -0.11731079842851724 + -0.09666030814483917i }, { -0.037813355072585 + -0.12870181652276821i, -0.023544183336329856 + 0.05961278499224262i, 0.08479564370978285 + 0.10748954079423224i, -0.06143638181453464 + -0.02158417902490795i } }, Matrix{ { -0.08600609580282445 + 0.06602424157951244i, -0.019364493077321333 + 0.06922298837556316i, -0.034663087949510576 + -0.035517562719976165i, 0.12124464364117721 + -0.044272750077129226i }, { -0.15296278051545695 + 0.06899731970611409i, 0.051128069385316395 + 0.00122390834305312i, 0.032668042139881726 + 0.0307978044706563i, -0.012411974628929859 + -0.025712863039585972i }, { -0.017368058949637378 + 0.006365798318171795i, -0.051068736784728744 + 0.20455915624476123i, -0.05155453844392173 + -0.06589677443914188i, 0.11110314949784918 + -0.01824648282841885i }, { -0.1171593010102299 + -0.016252477680332226i, -0.07060498659637061 + 0.004155182883093523i, -0.017818882219777933 + 0.025887947772112105i, -0.040530559265730855 + -0.03728500844174193i } }, Matrix{ { -0.20112931791032929 + 0.03912588208814079i, -0.06798897349966575 + 0.016974357831120373i, 0.00354146998536991 + 0.20186561978009243i, -0.13570619538963974 + -0.04089915286244526i }, { 0.19948061849084095 + -0.09928089874603947i, -0.009089851707018898 + -0.11333288174733454i, 0.009991843100611809 + -0.03696437994321853i, -0.06029952579372808 + -0.007768077616199911i }, { -0.04483816189585895 + 0.018386252684327878i, -0.0831362294705294 + 0.07279698405120837i, 0.15153901333643097 + -0.031241345392287005i, -0.04952819975329874 + -0.08433090432630044i }, { 0.07349672673724164 + -0.08994768909153111i, -0.040948113516103196 + 0.041110104596347743i, 0.1715514989743577 + -0.05104904965567507i, 0.09233818446431553 + -0.04716134826840166i } }, Matrix{ { 0.04313795807633232 + -0.06732795775339524i, 0.06194075628263985 + -0.05831024820309423i, 0.07719610948284425 + 0.030477788310998812i, 0.08545423081945125 + 0.053659764339852666i }, { 0.01083328261015579 + 0.07349938040557841i, 0.0038871442160106403 + -0.020473662932795275i, -0.12458045109289004 + -0.05567072554276677i, -0.007581594811632033 + -0.10957882113333516i }, { -0.09404644070994718 + 0.034280364762995064i, 0.0015874829414942915 + 0.10294254156851017i, 0.1504038511237397 + 0.05082968440868827i, -0.04186020826477793 + 0.10820171042533458i }, { 0.08696452736766946 + 0.16107080725634013i, -0.0732111481528825 + -0.07421279829181147i, 0.1611496030165876 + 0.08854755880040123i, -0.05668411099627827 + -0.0861527170776293i } } }, { QubitIndex{ 1 }, QubitIndex{ 6 } }));

    c.addInstruction(CircuitInstruction({ Matrix{ { -0.25810836929126135 + 0.07869553267207764i, -0.02624056219967449 + 0.06560020332388679i }, { 0.18681422999170788 + 0.35921269938233613i, -0.32928091886878225 + 0.24604261605178102i } }, Matrix{ { 0.22725520682765268 + -0.19331173712947697i, 0.2847242059120272 + 0.10888820380006042i }, { -0.16989949708886326 + 0.08362014955576093i, -0.5167831680977545 + 0.013613833458256407i } }, Matrix{ { -0.1697609427038274 + -0.3086081793451048i, -0.47544796849531884 + 0.04261482918664507i }, { 0.08492238978140129 + -0.44912816342716455i, -0.15118516742392776 + 0.41449400043461343i } }, Matrix{ { -0.25508966423375085 + -0.373007334372519i, -0.11318146772066236 + 0.06293464798588873i }, { 0.29071860910626707 + -0.12912402633884917i, -0.16237429581516027 + -0.014325081947889425i } } }, { QubitIndex{ 6 } }));

    c.addInstruction(CircuitInstruction({ Matrix{ { 0.1750537960269365 + 0.35576378212079307i, -0.3876948163987243 + -0.13246199995471244i }, { 0.23403609964854818 + 0.12595304827442888i, -0.07533674705153028 + -0.13412722206933197i } }, Matrix{ { -0.01836098753252417 + -0.04348674888754095i, 0.03961952418917205 + 0.07523208765576639i }, { -0.09559943669583872 + 0.22198834489336167i, 0.45037602874283034 + -0.3290979961705515i } }, Matrix{ { 0.18202567230386935 + -0.02178642893430744i, 0.287919289477322 + 0.12795741941809868i }, { 0.4015491073626873 + -0.057298655684001706i, 0.2670621684266 + -0.35917729416150385i } }, Matrix{ { -0.16266640196962903 + 0.40324498176609613i, -0.19111261114859984 + -0.2551733362741687i }, { -0.27312246731521606 + -0.49970927701046763i, -0.2057219034758732 + -0.21574769187950457i } } }, { QubitIndex{ 5 } }));

    c.addInstruction(CircuitInstruction({ Matrix{ { 0.394982344921345 + 0.10425350800215416i, 0.042670510251650764 + 0.1984943164168744i }, { 0.18187624130694857 + -0.38398582303074363i, 0.05553100513282988 + -0.29452621418988617i } }, Matrix{ { -0.330928550566086 + -0.3291805523505062i, 0.4003425522362785 + -0.07436928252035613i }, { -0.06500040245803765 + -0.0995596793723361i, 0.26057271871983656 + 0.5098092591575508i } }, Matrix{ { 0.30396704867208263 + -0.38777027896595656i, -0.10842202355140312 + -0.36412512981149625i }, { 0.04532848823261955 + 0.17381808177081468i, -0.13645907345977518 + -0.3787646326925819i } }, Matrix{ { 0.21968468373195987 + 0.12632024059432206i, -0.0614663499654613 + -0.2423053474088017i }, { -0.2396394133056077 + -0.15463177210324108i, -0.06592735484341095 + -0.04559274080829305i } } }, { QubitIndex{ 4 } }));

    c.addInstruction(CircuitInstruction({ Matrix{ { -0.0070427684101346255 + 0.07991531345554073i, 0.027894241611882722 + 0.011576792888058598i, -0.10091819069530304 + -0.097452530006303i, 0.025226605863952423 + 0.21337887661245433i }, { 0.06893086500294951 + -0.08493269009081984i, 0.10321330860118735 + 0.05683803844662554i, 0.11249259870932656 + 0.09164016456896941i, -0.15901539771556478 + 0.11092043500346847i }, { -0.16113532988507542 + 0.10477890520209858i, 0.06503867605154447 + -0.030285875981772355i, -0.14542297884044253 + -0.08814630161946663i, 0.04470078456955719 + -0.0237598439395894i }, { -0.134272382759063 + -0.04342328694332384i, 0.060378478041642626 + -0.13858291715617385i, -0.0784179871079161 + 0.039263297428459465i, -0.06115034184970822 + -0.15179025558560574i } }, Matrix{ { 0.06698710626577027 + -0.13603333060809739i, -0.018680211384822235 + -0.045155226122055234i, -0.042061623484037504 + 0.01366449137962644i, -0.02409055170278866 + 0.09240028947103877i }, { 0.06502317566707326 + 0.0031403821691699738i, -0.10784659636193847 + 0.006051384681725178i, 0.02409515934884339 + -0.18952744605518818i, -0.029043677588349203 + -0.23574260739033903i }, { 0.131493181531177 + -0.11634542751760996i, 0.05028399114128621 + -0.04069213987394016i, -0.12660342284764076 + -0.07615151568024327i, -0.05197355108700837 + 0.05404840421131669i }, { 0.06737244834073489 + 0.058054342052495184i, -0.08457767378056509 + -0.094423610543873i, 0.10728607295516694 + -0.0502270705983158i, 0.06481191914307542 + -0.06394540632482443i } }, Matrix{ { 0.022064104823675417 + 0.10622944888763321i, -0.004034973426636733 + 0.07105725284615103i, 0.07123961228200751 + 0.09842320867421671i, -0.15732355555059058 + 0.040399461095163396i }, { 0.04328730133976513 + -0.18684170255984703i, 0.03145382896633992 + -0.16306148726935385i, 0.12051067784084239 + 0.0073610254430724895i, -0.038225915851996375 + -0.11027522676066065i }, { -0.17094789120849255 + -0.027045827091766624i, 0.04816270570965103 + 0.08640023521714142i, 0.009482953570076228 + -0.1374950653775095i, -0.015063622483608543 + -0.07564418254343094i }, { 0.13835503164899937 + -0.06379150522621078i, 0.08084460923219822 + -0.07714577236719351i, -0.010487585139982162 + 0.07161042517627815i, -0.04256560771061928 + -0.009772235797187586i } }, Matrix{ { -0.0407238495413212 + 0.0027829007854167837i, -0.028025242811082405 + 0.07578034263734887i, 0.015638628007022502 + 0.04343588880912107i, 0.17698114012672336 + 0.04693037506453232i }, { -0.004374607479779242 + -0.07108240866619002i, -0.046347179048611145 + -0.18009018929073092i, -0.029951495777772078 + -0.053858030271268106i, 0.05022607572537948 + -0.03872165466392554i }, { -0.2010838292441503 + 0.08821517961166246i, -0.06171542651136229 + -0.03372330535482573i, 0.13275444853455368 + -0.02539868916106163i, -0.05953283869444271 + -0.020672757523734826i }, { -0.12300728309390752 + 0.028837001127804403i, -0.042537464218392745 + -0.09784398017594005i, -0.04500800958195013 + 0.05222702775391533i, -0.050249353683834506 + -0.03316912955450418i } }, Matrix{ { -0.04443453567586031 + 0.03607919596974802i, -0.09550960741980213 + 0.09408014031385022i, 0.1440828047324095 + -0.12298310573057734i, 0.07766501614588915 + 0.07238834019085633i }, { 0.07490268580157128 + 0.06206825790657343i, 0.03459740374609607 + -0.11692583847488669i, -0.05562597586218637 + -0.05864111678492224i, 0.03267845136911698 + 0.14253853781725506i }, { -0.028467874957110163 + 0.029277931844022765i, -0.14231341072611464 + 0.016863251341377287i, 0.008833094318586388 + -0.03638605096009803i, 0.010875835525023105 + 0.014277209654553454i }, { 0.09522992237295481 + -0.032012551848091216i, 0.12386033505880362 + 0.060731626478788554i, 0.14580703599112882 + -0.026398072518959852i, 0.10282654224995096 + -0.03676621263221836i } }, Matrix{ { 0.003914773844203121 + -0.06217963774402657i, -0.01574669910318864 + -0.03672459718399559i, -0.020560024730088434 + 0.04528057673777271i, 0.15596923788220532 + -0.0296514588577353i }, { 0.014570346366591004 + -0.12298639850125095i, -0.04613303656575739 + -0.14469131119393358i, -0.06098831830236946 + -0.02358834412487832i, -0.13978287651734791 + -0.13399114627258313i }, { -0.024328682957375676 + -0.1567162390157954i, 0.006598023833413014 + 0.009972458040481693i, -0.07270485692705726 + 0.007899890997970034i, -0.08116929818115329 + 0.030795574928998152i }, { -0.27291560339533943 + 0.046163194821938765i, 0.10507153649817184 + 0.013117341552223195i, 0.061084966251330974 + 0.07515636170005259i, 0.07411089664220898 + 0.020455012773996355i } }, Matrix{ { -0.05095040290062371 + 0.04387293352935738i, -0.02031358322015283 + -0.031404921792881825i, -0.059241356793910245 + -0.042739922635117084i, 0.12161541179710098 + -0.017241299411089466i }, { -0.005301177479665655 + 0.021860133139129812i, -0.022666369358157083 + 0.23527199115421507i, 0.014372178591780332 + 0.03393356914774928i, 0.07394294490645176 + -0.025766116520435374i }, { -0.03996942513321817 + -0.02853922347283134i, 0.0575519570110179 + -0.05771709749682379i, 0.11319065854496012 + 0.0023420769610254695i, 0.10245786808970897 + 0.08053974701661024i }, { -0.033689320864620384 + -0.00029230581836299377i, 0.11046508368791025 + 0.0856986513451577i, -0.05246583588375405 + -0.05964256244934568i, 0.04915327785660236 + -0.08812432750956724i } }, Matrix{ { -0.07442455461841267 + 0.09228132636046962i, 0.09053177315332964 + 0.15332648100472118i, -0.1778072007468643 + 0.13199980253458196i, 0.046171970755555965 + 0.07346651457971379i }, { -0.051344480656520225 + 0.05671677545830551i, 0.02209722277170821 + -0.0658598951845926i, 0.07463456457279383 + 0.12010236501039141i, 0.022779315636667734 + -0.09280914211191181i }, { 0.11761557446462678 + 0.025577644646622516i, 0.01800920785026835 + -0.058622967306616154i, 0.018527673827430736 + 0.12197952124081071i, 0.0434246971489563 + 0.03874175887130243i }, { -0.0365086936996299 + 0.09668945825393974i, 0.006240888581880266 + -0.013915255453487338i, 0.009722101148825381 + 0.04021066256804339i, -0.10395796136698915 + -0.13201527497506085i } }, Matrix{ { -0.1607673475769955 + 0.006314681430901292i, 0.08603098303543967 + 0.09353403324735374i, 0.03544527007537606 + 0.057146401949191586i, 0.03402244020653833 + -0.04832765895801723i }, { 0.09445335488048057 + 0.06970743136811669i, -0.04940035291680444 + 0.038304104764023815i, 0.043498951411892334 + 0.026364125344442893i, 0.1015961407830439 + -0.1491019522296156i }, { -0.0825444360953736 + 0.005307153144716188i, -0.207323577333403 + -0.18241258527526555i, 0.03317193630146786 + 0.11379838670062405i, 0.06470702404221781 + -0.06111365987944301i }, { 0.1477007262903089 + -0.004357325672979353i, 0.11887577361567168 + -0.06752076704186084i, 0.07276414242212302 + 0.041245591212771215i, -0.07799425835615455 + 0.05713276005342352i } }, Matrix{ { 0.02240594770516611 + 0.10204665488678666i, -0.07770321244638963 + -0.13947761292325278i, -0.021922252460878332 + 0.0075700782616383655i, -0.01713699935056717 + 0.17706679895184288i }, { -0.08302212997538332 + -0.0027296404175998204i, -0.1064440878846925 + -0.07425749083147959i, 0.09059394399369419 + 0.07306729656206151i, -0.006894571443939698 + -0.0020861078758817563i }, { -0.03406865520646733 + -0.10034312030831535i, 0.04087227764066249 + -0.07312630353969235i, -0.23595515592879357 + 0.01401838571349809i, -0.023568703061796675 + 0.10116412666047613i }, { -0.045543697734110086 + -0.01982178889348185i, 0.06760918801198924 + 0.13371996473028805i, 0.08355656678523977 + -0.04156636966469155i, 0.09994697361356202 + 0.2108545116986266i } }, Matrix{ { -0.02674356654184849 + -0.012690526294335324i, -0.019725726068196774 + 0.04517513475062727i, 0.08448316337037937 + -0.06142648844491013i, 0.015582510122483469 + -0.20209924626610218i }, { -0.0265265081721415 + 0.19331591800986916i, -0.06777559771501888 + -0.17956079435267724i, -0.04143443632012225 + -0.07017097363676947i, 0.017213734943174852 + 0.06695000795629662i }, { -0.11414289964566124 + 0.0931849592797965i, -0.12273447344204409 + -0.06543411079928714i, -0.11046002312086034 + -0.05799229914039082i, -0.1276887974409124 + -0.05345116009708218i }, { -0.058336910145100035 + 0.11430000459378656i, -0.08030511475221877 + -0.05240298765356392i, 0.13986533934634596 + 0.08113620568556104i, 0.06524718461765534 + 0.09717827460769365i } }, Matrix{ { -0.05845365076621861 + 0.10734569916163186i, 0.03299642059390024 + 0.01011270984146441i, -0.02661805258889784 + -0.062036401739135445i, -0.008909618870145448 + -0.00585769696571516i }, { 0.12296320390017855 + 0.03739064069507984i, 0.04676500452444018 + -0.12173071066881473i, -0.1286132684424434 + 0.2658988025802139i, -0.008889185228726325 + 0.021966300528510833i }, { -0.08648592517115833 + -0.021609940384348582i, 0.022494281245151633 + 0.0729542454219095i, 0.004898878744222427 + 0.16235722411954556i, -0.02359519723719571 + -0.044400068752380124i }, { 0.08062584259403863 + -0.058097975301977564i, -0.04151406445437829 + -0.019097535450492264i, -0.0031536780635863827 + 0.05540981275658521i, -0.2518558937859686 + -0.026595731124230703i } }, Matrix{ { -0.06316068425844866 + -0.00556718975616838i, -0.049541791096976893 + -0.06741774969793858i, -0.014461300989052812 + -0.1621539918959777i, 0.005407764337143241 + 0.011543379817884475i }, { 0.07627326277657177 + -0.08822723449554565i, -0.147275205132149 + -0.08900245333410176i, -0.09265855902897806 + -0.0568877975615731i, 0.05085734180031447 + 0.05799204898798791i }, { 0.03712878889413261 + 0.04484947911040664i, -0.15672459427053728 + -0.11501200218248164i, -0.0612557675438378 + -0.04887125873723436i, 0.012397678272745027 + 0.03079697274128718i }, { 0.06658197932368178 + 0.10065374140791586i, 0.09917101881035625 + -0.0009965658907469i, 0.015813379482636995 + -0.1564516131487003i, -0.028499798849605396 + -0.0262182284342492i } }, Matrix{ { 0.0832423250150736 + -0.024195704629463674i, -0.1217810931289261 + -0.018006439784124445i, -0.08811757846343687 + 0.07545962310732453i, -0.030505174655185846 + -0.015778996235333353i }, { 0.09541740614698731 + -0.034266733108173277i, -0.0197916597001196 + -0.1007160411729321i, -0.13027177217458027 + -0.06210314984131073i, 0.08893190543216288 + -0.01211055276662968i }, { 0.025933419828216932 + -0.05768609181545364i, -0.20261287882097717 + -0.07196356725979666i, -0.007100333036724588 + -0.11337017055561786i, 0.179917068181119 + 0.05069463686222491i }, { 0.05057443216262891 + 0.13379851723164055i, -0.11444079513882553 + 0.03709597796859472i, 0.0004836596508862699 + 0.090945720563638i, 0.02094252406881441 + 0.0734193651318791i } }, Matrix{ { 0.05280149249297615 + -0.03760507380178962i, 0.0486242705260765 + -0.009319437779219935i, 0.0006839490487967606 + -0.1207506894312689i, -0.14585723529444938 + 0.02659774900345419i }, { -0.0606111972978113 + 0.03038957024729956i, -0.1274700266338951 + 0.0655893743217479i, -0.1376211230837434 + -0.20653164972933657i, -0.007684286524237551 + 0.17628629851207797i }, { -0.2569247785104087 + -0.1005826091016089i, 0.10575605362705683 + -0.07269850215307569i, 0.07368827951515171 + 0.10313228843873636i, -0.052933873324756374 + 0.08014893824069176i }, { -0.09969983748124461 + 0.10047053316765633i, 0.010893792617916214 + -0.12066826671160451i, -0.046892647881615325 + -0.09519963417823647i, -0.00820642200662557 + -0.038597590100948584i } }, Matrix{ { 0.05512524623438695 + 0.0278881300042775i, -0.21592617030372446 + 0.07040154098661194i, 0.10869163757788709 + 0.08487093657561677i, -0.18172953451340135 + -0.046875851173796584i }, { -0.1702250218455976 + 0.0006565967086545194i, -0.013816549863417491 + 0.0892976461660127i, -0.04913259897346633 + -0.06764634163807764i, -0.03157067803653892 + 0.03535725587164717i }, { -0.01223242051284717 + 0.10230719284315236i, 0.05258714799581309 + 0.05976959284573569i, 0.05792475940422458 + 0.05897519711953348i, -0.1879899965400511 + 0.012146157699663495i }, { -0.05689195688501222 + -0.1769069946139171i, -0.048097404955338804 + 0.06504119997030151i, -0.06055730300876759 + -0.12149651955150145i, 0.06692479706155952 + -0.018767649523078203i } } }, { QubitIndex{ 2 }, QubitIndex{ 4 } }));


    
    return c;
}

TEST(RandomizedIntegrationTests, 8_8_2_100_0_0) {
    auto c = randomCircuit();

    c.execute();
}
}

}
